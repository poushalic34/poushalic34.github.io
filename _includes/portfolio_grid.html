<!-- Portfolio Grid Section -->
<section id="portfolio">
  <div class="container portfolio-flex-grid">
    <div class="row">
      <div class="col-lg-12 text-center">
        <h2>Projects</h2>
        <hr class="star-primary">
      </div>
    </div>
    <div class="portfolio-flex-row">
      <div class="container">
  {% for post in site.posts limit:4 %}
    {% if forloop.index0 mod 2 == 0 %}
      <div class="row portfolio-flex-row"> <!-- Start a new row every 2 posts -->
    {% endif %}
    
      <div class="col-md-6 portfolio-flex-item portfolio-item">
        <a href="#portfolioModal-{{ post.modal-id }}" class="portfolio-link" data-toggle="modal">
          <div class="caption">
            <div class="caption-content">
              <i class="fa fa-search-plus fa-2x"></i>
            </div>
          </div>
          <img src="img/portfolio/{{ post.img }}" class="img-responsive" alt="{{ post.alt }}">
        </a>
      </div>

    {% if forloop.index0 mod 2 == 1 or forloop.last %}
      </div> <!-- Close row after every 2 posts or on the last post -->
    {% endif %}
  {% endfor %}
</div>
    </div>
  </div>
</section>
